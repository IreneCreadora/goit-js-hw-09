{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","src/js/04-timer-constructor.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport Notiflix from 'notiflix';\n\nconst refs = {\n  dateInput: document.querySelector('input#datetime-picker'),\n  startBtn: document.querySelector('[data-start]'),\n  // displayDays: document.querySelector('[data-days]'),\n  // displayHours: document.querySelector('[data-hours]'),\n  // displayMinutes: document.querySelector('[data-minutes]'),\n  // displaySeconds: document.querySelector('[data-seconds]'),\n};\nlet selectedDate = null;\nlet diff = 0;\n\nrefs.startBtn.disabled = true;\n\nconst notifyOptions = {\n  timeout: 3000,\n  width: '300px',\n  position: 'center-center',\n  backOverlay: true,\n  clickToClose: true,\n  closeButton: true,\n};\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] < Date.now()) {\n      Notiflix.Notify.failure(\n        'Please choose a date in the future',\n        notifyOptions\n      );\n      return;\n    }\n    refs.startBtn.disabled = false;\n    selectedDate = selectedDates[0];\n  },\n};\n\nflatpickr(refs.dateInput, options);\n\nclass Timer {\n  #refs = {};\n  constructor(selector) {\n    this.selector = selector;\n    this.intervalId = null;\n    this.isActive = false;\n  }\n\n  start() {\n    this.getRefs();\n    Notiflix.Notify.success('Lets Go!', notifyOptions);\n    if (this.isActive) {\n      return;\n    }\n    this.isActive = true;\n    this.intervalId = setInterval(() => {\n      const diff = selectedDate - Date.now();\n      const data = this.convertMs(diff);\n      Object.entries(data).forEach(([name, value], index) => {\n        this.#refs.data[index].textContent = this.addLeadingZero(value);\n      });\n\n      if (diff <= 1000) {\n        clearInterval(this.intervalId);\n        Notiflix.Notify.info('Deadline!', notifyOptions);\n      }\n    }, 1000);\n  }\n\n  getRefs() {\n    this.#refs.data = document.querySelectorAll(\n      `${this.selector} .timer_js .value`\n    );\n  }\n\n  convertMs(diff) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    const days = Math.floor(diff / 1000 / 60 / 60 / 24);\n    const hours = Math.floor(diff / 1000 / 60 / 60) % 24;\n    const minutes = Math.floor(diff / 1000 / 60) % 60;\n    const seconds = Math.floor(diff / 1000) % 60;\n    return { days, hours, minutes, seconds };\n  }\n  addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n  }\n}\nconst timer = new Timer('.timers_js', selectedDate);\n\nrefs.startBtn.addEventListener('click', timer.start.bind(timer));\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","$e13576b86460cc50$exports","$e13576b86460cc50$var$_classExtractFieldDescriptor","$e13576b86460cc50$var$_classApplyDescriptorGet","$e13576b86460cc50$var$_interopRequireDefault","parcelRequire","__esModule","$bb98491953509995$exports","$bb98491953509995$var$_checkPrivateRedeclaration","set","$c3b5b63ee06dea3e$var$refs","dateInput","document","querySelector","startBtn","$c3b5b63ee06dea3e$var$selectedDate","disabled","$c3b5b63ee06dea3e$var$notifyOptions","timeout","width","position","backOverlay","clickToClose","closeButton","$c3b5b63ee06dea3e$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","$parcel$interopDefault","$eWCmQ","Notify","failure","$fbklV","$c3b5b63ee06dea3e$var$_refs","WeakMap","$c3b5b63ee06dea3e$var$timer","start","this","getRefs","success","isActive","intervalId","setInterval","diff1","data","convertMs","entries","forEach","name","index","textContent","addLeadingZero","clearInterval","info","querySelectorAll","selector","diff2","Math","floor","String","padStart","constructor","addEventListener","bind"],"version":3,"file":"04-timer-constructor.2c59af2a.js.map"}